{"version":3,"sources":["webpack:////Users/damowang/Downloads/App/components/payment/index.vue?c07f","webpack:////Users/damowang/Downloads/App/components/payment/index.vue?edef","webpack:////Users/damowang/Downloads/App/components/payment/index.vue?cfb1","webpack:////Users/damowang/Downloads/App/components/payment/index.vue?c728","uni-app:///components/payment/index.vue","webpack:////Users/damowang/Downloads/App/components/payment/index.vue?97d9","webpack:////Users/damowang/Downloads/App/components/payment/index.vue?0845"],"names":[],"mappings":"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","file":"components/payment/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=15ef15de&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=15ef15de&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15ef15de\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/payment/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=15ef15de&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"payment\" :class=\"pay_close ? 'on' : ''\">\n\t\t\t<view class=\"title acea-row row-center-wrapper\">\n\t\t\t\t选择付款方式<text class=\"iconfont icon-guanbi\" @click='close'></text>\n\t\t\t</view>\n\t\t\t<view class=\"item acea-row row-between-wrapper\" @click='goPay(item.number || 0 , item.value)'\n\t\t\t\tv-for=\"(item,index) in payMode\" :key=\"index\" v-if=\"item.payStatus==1\">\n\t\t\t\t<view class=\"left acea-row row-between-wrapper\">\n\t\t\t\t\t<view class=\"iconfont\" :class=\"item.icon\"></view>\n\t\t\t\t\t<view class=\"text\">\n\t\t\t\t\t\t<view class=\"name\">{{item.name}}</view>\n\t\t\t\t\t\t<view class=\"info\" v-if=\"item.number\">\n\t\t\t\t\t\t\t{{item.title}} <span class=\"money\">￥{{ item.number }}</span>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info\" v-else>{{item.title}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"iconfont icon-xiangyou\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"mask\" @click='close' v-if=\"pay_close\"></view>\n\t\t<view class=\"alipaysubmit\" v-html=\"formContent\"></view>\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\torderPay,\n\t\twechatOrderPay,\n\t\twechatQueryPayResult,\n\t\tgetPayConfig\n\t} from '@/api/order.js';\n\timport {\n\t\tmapGetters\n\t} from \"vuex\";\n\texport default {\n\t\tprops: {\n\t\t\tpayMode: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: function() {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\t\t\tpay_close: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false,\n\t\t\t},\n\t\t\torder_id: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\ttotalPrice: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '0'\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tformContent:'',\n\t\t\t\tpayChannel:''\n\t\t\t};\n\t\t},\n\t\tcomputed: mapGetters(['systemPlatform']),\n\t\tcreated(){\n\t\t\tthis.payConfig();\n\t\t},\n\t\tmethods: {\n\t\t\tclose: function() {\n\t\t\t\tthis.$emit('onChangeFun', {\n\t\t\t\t\taction: 'payClose'\n\t\t\t\t});\n\t\t\t},\n\t\t\tpayConfig(){\n\t\t\t\tgetPayConfig().then(res=>{\n\t\t\t\t\tthis.payMode[1].payStatus = parseInt(res.data.yuePayStatus) === 1 ? 1 : 2;\n\t\t\t\t\tthis.payMode[0].payStatus = parseInt(res.data.payWeixinOpen) === 1 ? 1 : 0;\n\t\t\t\t\t// #ifndef MP\n\t\t\t\t\tthis.payMode[2].payStatus = parseInt(res.data.aliPayStatus) === 1 ? 1 : 2;\n\t\t\t\t\t// #endif\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoPay: function(number, paytype) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet goPages = '/pages/order_pay_status/index?order_id=' + that.order_id;\n\t\t\t\tif (!that.order_id) return that.$util.Tips({\n\t\t\t\t\ttitle: '请选择要支付的订单'\n\t\t\t\t});\n\t\t\t\tif (paytype == 'yue' && parseFloat(number) < parseFloat(that.totalPrice)) return that.$util.Tips({\n\t\t\t\t\ttitle: '余额不足！'\n\t\t\t\t});\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '支付中'\n\t\t\t\t});\n\t\t\t\t// #ifdef H5\n\t\t\t\tif(paytype == 'alipay' && this.$wechat.isWeixin() == true){\n\t\t\t\t\tthat.payChannel = 'public';\n\t\t\t\t}else if(paytype == 'alipay' && this.$wechat.isWeixin() == false){\n\t\t\t\t\tthat.payChannel = 'weixinh5';\n\t\t\t\t}\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif(paytype == 'alipay'){\n\t\t\t\t\tthat.payChannel = 'appAliPay';\n\t\t\t\t}else if(paytype == 'weixin'){\n\t\t\t\t\tthat.payChannel: that.systemPlatform === 'ios' ? 'weixinAppIos' : 'weixinAppAndroid'\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #endif\n\t\t\t\twechatOrderPay({\n\t\t\t\t\torderNo: that.order_id,\n\t\t\t\t\t// #ifdef MP\n\t\t\t\t\tpayChannel: 'routine',\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifndef MP\n\t\t\t\t\tpayChannel:that.payChannel,\n\t\t\t\t\t// #endif\n\t\t\t\t\tpayType: paytype\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet jsConfig = res.data.jsConfig;\n\t\t\t\t\tthat.order_id = res.data.orderNo;\n\t\t\t\t\tswitch (res.data.payType) {\n\t\t\t\t\t\tcase 'weixin':\n\t\t\t\t\t\tthat.weixinPay(jsConfig);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yue':\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: '余额支付成功',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\taction: 'pay_complete'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'weixinh5':\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tlocation.replace(jsConfig.mwebUrl + '&redirect_url=' + window.location.protocol +\n\t\t\t\t\t\t\t\t'//' + window.location.host + goPages + '&status=1');\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: \"支付中\",\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\taction: 'pay_complete'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'alipay':\n\t\t\t\t\t\t\t//#ifdef H5\n\t\t\t\t\t\t\tif (this.$wechat.isWeixin()) {\n\t\t\t\t\t\t\t\t//微信公众号内支付\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//h5支付\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tthat.formContent = res.data.alipayRequest;\n\t\t\t\t\t\t\t\tuni.setStorage({key: 'orderNo', data:that.order_id});\n\t\t\t\t\t\t\t\tthat.$nextTick(() => {\n\t\t\t\t\t\t\t\t\tdocument.forms['punchout_form'].submit();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\t\t\tlet alipayRequest = res.data.alipayRequest;\n\t\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\t\tprovider: 'alipay',\n\t\t\t\t\t\t\t\torderInfo: alipayRequest,\n\t\t\t\t\t\t\t\tsuccess: (e) => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: \"支付成功\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tsetTimeout(res => {\n\t\t\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\t\t\taction: 'pay_complete'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\tcontent: \"支付失败\",\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\t//点击确认的操作\n\t\t\t\t\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'pay_fail'\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\ttitle: err\n\t\t\t\t\t}, () => {\n\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\taction: 'pay_fail'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\n\t\t\tweixinPay(jsConfig){\n\t\t\t\tlet that = this;\n\t\t\t\t// #ifdef MP\n\t\t\t\tuni.requestPayment({\n\t\t\t\t\ttimeStamp: jsConfig.timeStamp,\n\t\t\t\t\tnonceStr: jsConfig.nonceStr,\n\t\t\t\t\tpackage: jsConfig.packages,\n\t\t\t\t\tsignType: jsConfig.signType,\n\t\t\t\t\tpaySign: jsConfig.paySign,\n\t\t\t\t\tsuccess: function(ress) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\twechatQueryPayResult(that.order_id).then(res => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: \"支付成功\",\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\taction: 'pay_complete'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).cache(err => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: err\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\ttitle: '取消支付'\n\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\taction: 'pay_fail'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function(e) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tif (e.errMsg == 'requestPayment:cancel') return that.$util\n\t\t\t\t\t\t\t.Tips({\n\t\t\t\t\t\t\t\ttitle: '取消支付'\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\taction: 'pay_fail'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef H5\n\t\t\t\tlet datas = {\n\t\t\t\t\ttimestamp: jsConfig.timeStamp,\n\t\t\t\t\tnonceStr: jsConfig.nonceStr,\n\t\t\t\t\tpackage: jsConfig.packages,\n\t\t\t\t\tsignType: jsConfig.signType,\n\t\t\t\t\tpaySign: jsConfig.paySign\n\t\t\t\t};\n\t\t\t\tthat.$wechat.pay(datas).then(res => {\n\t\t\t\t\tif (res.errMsg == 'chooseWXPay:cancel') {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\ttitle: '支付失败'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\twechatQueryPayResult(that.order_id).then(res => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: \"支付成功\",\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\taction: 'pay_complete'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).cache(err => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: err\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}).cache(errW => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\ttitle: errW\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tuni.requestPayment({\n\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\torderInfo: {\n\t\t\t\t\t\t\"appid\": jsConfig.appId, // 微信开放平台 - 应用 - AppId，注意和微信小程序、公众号 AppId 可能不一致\n\t\t\t\t\t\t\"noncestr\": jsConfig.nonceStr, // 随机字符串\n\t\t\t\t\t\t\"package\": \"Sign=WXPay\", // 固定值\n\t\t\t\t\t\t\"partnerid\": jsConfig.partnerid, // 微信支付商户号\n\t\t\t\t\t\t\"prepayid\": jsConfig.packages, // 统一下单订单号 \n\t\t\t\t\t\t\"timestamp\": Number(jsConfig.timeStamp), // 时间戳（单位：秒）\n\t\t\t\t\t\t\"sign\": this.systemPlatform === 'ios' ? 'MD5' : jsConfig\n\t\t\t\t\t\t\t.paySign // 签名，这里用的 MD5 签名\n\t\t\t\t\t}, //微信、支付宝订单数据 【注意微信的订单信息，键值应该全部是小写，不能采用驼峰命名】\n\t\t\t\t\tsuccess: (e) => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tlet url = '/pages/order_pay_status/index?order_id=' + that.order_id + '&msg=支付成功';\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"支付成功\"\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsetTimeout(res => {\n\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\taction: 'pay_complete'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\tcontent: \"支付失败\",\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tthat.$emit('onChangeFun', {\n\t\t\t\t\t\t\t\t\t\taction: 'pay_fail'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t.payment {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tborder-radius: 16rpx 16rpx 0 0;\n\t\tbackground-color: #fff;\n\t\tpadding-bottom: 60rpx;\n\t\tz-index: 99;\n\t\ttransition: all 0.3s cubic-bezier(0.25, 0.5, 0.5, 0.9);\n\t\ttransform: translate3d(0, 100%, 0);\n\t}\n\n\t.payment.on {\n\t\ttransform: translate3d(0, 0, 0);\n\t}\n\n\t.payment .title {\n\t\ttext-align: center;\n\t\theight: 123rpx;\n\t\tfont-size: 32rpx;\n\t\tcolor: #282828;\n\t\tfont-weight: bold;\n\t\tpadding-right: 30rpx;\n\t\tmargin-left: 30rpx;\n\t\tposition: relative;\n\t\tborder-bottom: 1rpx solid #eee;\n\t}\n\n\t.payment .title .iconfont {\n\t\tposition: absolute;\n\t\tright: 30rpx;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: 43rpx;\n\t\tcolor: #8a8a8a;\n\t\tfont-weight: normal;\n\t}\n\n\t.payment .item {\n\t\tborder-bottom: 1rpx solid #eee;\n\t\theight: 130rpx;\n\t\tmargin-left: 30rpx;\n\t\tpadding-right: 30rpx;\n\t}\n\n\t.payment .item .left {\n\t\twidth: 610rpx;\n\t}\n\n\t.payment .item .left .text {\n\t\twidth: 540rpx;\n\t}\n\n\t.payment .item .left .text .name {\n\t\tfont-size: 32rpx;\n\t\tcolor: #282828;\n\t}\n\n\t.payment .item .left .text .info {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.payment .item .left .text .info .money {\n\t\tcolor: #ff9900;\n\t}\n\n\t.payment .item .left .iconfont {\n\t\tfont-size: 45rpx;\n\t\tcolor: #09bb07;\n\t}\n\n\t.payment .item .left .iconfont.icon-zhifubao {\n\t\tcolor: #00aaea;\n\t}\n\n\t.payment .item .left .iconfont.icon-yuezhifu {\n\t\tcolor: #ff9900;\n\t}\n\n\t.payment .item .left .iconfont.icon-yuezhifu1 {\n\t\tcolor: #eb6623;\n\t}\n\n\t.payment .item .iconfont {\n\t\tfont-size: 0.3rpx;\n\t\tcolor: #999;\n\t}\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=15ef15de&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=15ef15de&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1652952465547\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}