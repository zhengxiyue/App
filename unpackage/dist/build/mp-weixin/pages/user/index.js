(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index"],{3162:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=h(n("0488")),i=n("b381"),o=n("5355"),u=n("cc12"),r=n("fa41"),s=n("a30d"),c=n("8a48"),d=n("26cb"),l=n("1bab"),f=n("5fb7"),g=h(n("37f7"));function h(t){return t&&t.__esModule?t:{default:t}}var p=t.getSystemInfoSync().statusBarHeight+"px",m=getApp(),v={computed:(0,d.mapGetters)(["isLogin","chatUrl","userInfo","uid"]),data:function(){return{orderMenu:[{img:"icon-daifukuan",title:"待付款",url:"/pages/users/order_list/index?status=0",num:0},{img:"icon-daifahuo",title:"待发货",url:"/pages/users/order_list/index?status=1",num:0},{img:"icon-daishouhuo",title:"待收货",url:"/pages/users/order_list/index?status=2",num:0},{img:"icon-daipingjia",title:"待评价",url:"/pages/users/order_list/index?status=3",num:0},{img:"icon-a-shouhoutuikuan",title:"售后/退款",url:"/pages/users/user_return_list/index",num:0}],imgUrls:[],userMenu:[],autoplay:!0,circular:!0,interval:3e3,duration:500,isAuto:!1,isShowAuth:!1,orderStatusNum:{},MyMenus:[],wechatUrl:[],servicePic:"/static/images/customer.png",sysHeight:p,pageHeight:"100%",configApi:{},theme:m.globalData.theme,bgColor:"#e93323",chatConfig:{consumer_hotline:"",telephone_service_switch:"false"}}},onLoad:function(){m.globalData.isIframe&&setTimeout((function(){var t;document.getElementById("pageIndex").children.forEach((function(e){e.addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault(),e!==t&&(e.classList.add("borderShow"),t&&t.classList.remove("borderShow"),t=e)}))}))}));var e=this;this.$Cache.getItem("cityList")||this.getCityList(),e.$set(e,"MyMenus",m.globalData.MyMenus),e.$set(e,"chatConfig",a.default.getItem("chatConfig")),e.isLogin,e.bgColor=(0,f.setThemeColor)(),t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:e.bgColor})},onShow:function(){var e=this;t.showTabBar(),e.isLogin?(this.getMyMenus(),this.getOrderData(),this.$store.dispatch("USERINFO")):(0,c.toLogin)();var n=t.createSelectorQuery();n.select(".new-users")},methods:{bindEdit:function(t){m.globalData.isIframe&&window.parent.postMessage({name:t},"*")},menusTap:function(e){(0,i.goPage)().then((function(n){t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:e})}))},navito:function(t){if(m.globalData.isIframe)return!1;window.location.href="https://"+t},kefuClick:function(){if("true"===this.chatConfig.telephone_service_switch)t.makePhoneCall({phoneNumber:this.chatConfig.consumer_hotline});else{if(m.globalData.isIframe)return!1;location.href=this.chatUrl}},getOrderData:function(){var t=this;(0,r.orderData)().then((function(e){t.orderMenu.forEach((function(t,n){switch(t.title){case"待付款":t.num=e.data.unPaidCount;break;case"待发货":t.num=e.data.unShippedCount;break;case"待收货":t.num=e.data.receivedCount;break;case"待评价":t.num=e.data.evaluatedCount;break;case"售后/退款":t.num=e.data.refundCount;break}})),t.$set(t,"orderMenu",t.orderMenu)}))},openAuto:function(){a.default.set(o.BACK_URL,""),(0,c.toLogin)()},onLoadFun:function(){this.getMyMenus(),this.getOrderData()},bindPhone:function(){t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:"/pages/users/app_login/index"})},getMyMenus:function(){var t=this;(0,u.getMenuList)().then((function(e){t.$set(t,"MyMenus",e.data.routine_my_menus),t.wechatUrl=e.data.routine_my_menus.filter((function(t){return-1!==t.url.indexOf("service")})),e.data.routine_my_menus.map((function(e){-1!==e.url.indexOf("service")&&(t.servicePic=e.pic)})),e.data.routine_my_banner&&(t.imgUrls=e.data.routine_my_banner)}))},goEdit:function(){0==this.isLogin?(0,c.toLogin)():t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:"/pages/users/user_info/index"})},goMenuPage:function(e){this.isLogin?t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:e}):this.openAuto()},appUpdate:function(){t.navigateTo({url:"/pages/users/app_update/app_update",animationType:g.default.type,animationDuration:g.default.duration})},shareApi:function(){var t=this;(0,l.getShare)().then((function(e){t.$set(t,"configApi",e.data)}))},setOpenShare:function(t){var e=this;if(e.$wechat.isWeixin()){var n={desc:t.synopsis,title:t.title,link:location.href,imgUrl:t.img};e.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData"],n)}},getCityList:function(){var t=this;(0,s.getCity)().then((function(e){var n=864e5;t.$Cache.setItem({name:"cityList",value:e.data,expires:7*n})}))}}};e.default=v}).call(this,n("543d")["default"])},3599:function(t,e,n){},5252:function(t,e,n){"use strict";var a=n("3599"),i=n.n(a);i.a},"5dbd":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=[]},6217:function(t,e,n){"use strict";(function(t){n("f524");a(n("66fd"));var e=a(n("87e9"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"87e9":function(t,e,n){"use strict";n.r(e);var a=n("5dbd"),i=n("b5ad");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("5252");var u,r=n("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"82bea0b0",null,!1,a["a"],u);e["default"]=s.exports},b5ad:function(t,e,n){"use strict";n.r(e);var a=n("3162"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}},[["6217","common/runtime","common/vendor"]]]);