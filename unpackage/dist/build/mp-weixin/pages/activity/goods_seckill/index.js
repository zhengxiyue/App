(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_seckill/index"],{3362:function(t,e,i){"use strict";i.r(e);var n=i("4a3d"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},3817:function(t,e,i){"use strict";i.r(e);var n=i("8488"),a=i("3362");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("bec8"),i("7f03");var c,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"5a73e26a",null,!1,n["a"],c);e["default"]=s.exports},"39c7":function(t,e,i){"use strict";(function(t){i("f524");n(i("66fd"));var e=n(i("3817"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},"3fa3":function(t,e,i){},"4a3d":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("a519"),a=o(i("37f7"));function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l=function(){i.e("components/home/index").then(function(){return resolve(i("40e3"))}.bind(null,i)).catch(i.oe)},s=getApp(),u={components:{home:l},data:function(){var t;return t={showSkeleton:!0,isNodes:0,circular:!0,autoplay:!0,interval:500,topImage:"",seckillList:[],timeList:[],active:0,scrollLeft:0},c(t,"interval",0),c(t,"status",1),c(t,"countDownHour","00"),c(t,"countDownMinute","00"),c(t,"countDownSecond","00"),c(t,"page",1),c(t,"limit",10),c(t,"loading",!1),c(t,"loadend",!1),c(t,"pageloading",!1),c(t,"dataList",[]),c(t,"returnShow",!0),c(t,"navH",""),c(t,"theme",s.globalData.theme),t},onLoad:function(){var t=this;setTimeout((function(){t.isNodes++}),500);var e=getCurrentPages();this.returnShow=1!==e.length,this.getSeckillConfig()},methods:{goBack:function(){t.navigateBack()},getSeckillConfig:function(){var t=this,e=this;e.seckillList=[{image:"",otPrice:"",percent:"",price:"",title:""}],(0,n.getSeckillHeaderApi)().then((function(i){""!=i.data?(e.seckillList=[],i.data.map((function(t){t.slide=JSON.parse(t.slide)})),e.dataList=i.data,e.page=1,e.status=e.dataList[e.active].status,e.getSeckillList()):t.$util.Tips({title:"暂无秒杀活动"},{url:"/pages/index/index"})}))},getSeckillList:function(){var t=this,e={page:t.page,limit:t.limit};t.loadend||t.pageloading||(t.pageloading=!0,(0,n.getSeckillList)(t.dataList[t.active].id,e).then((function(e){var i=e.data.list,n=i.length<t.limit;t.seckillList=t.seckillList.concat(i),t.page++,t.page=t.page,t.pageloading=!1,t.loadend=n,setTimeout((function(){t.showSkeleton=!1}),1e3)})).catch((function(e){t.pageloading=!1})))},settimeList:function(t,e){if(e!==this.active){var i=this;this.active=e,i.interval&&(clearInterval(i.interval),i.interval=null),i.interval=0,i.countDownHour="00",i.countDownMinute="00",i.countDownSecond="00",i.status=i.dataList[i.active].status,i.loadend=!1,i.page=1,i.seckillList=[],i.getSeckillList()}},goDetails:function(e){t.navigateTo({animationType:a.default.type,animationDuration:a.default.duration,url:"/pages/activity/goods_seckill_details/index?id="+e.id})},setShare:function(){this.$wechat.isWeixin()&&this.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"],{desc:this.seckillList[0].title,title:this.seckillList[0].title,link:location.href,imgUrl:this.seckillList[0].image}).then((function(t){})).catch((function(t){console.log(t)}))}},onReachBottom:function(){var t=this;t.getSeckillList()}};e.default=u}).call(this,i("543d")["default"])},"7f03":function(t,e,i){"use strict";var n=i("3fa3"),a=i.n(n);a.a},8488:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.dataList,(function(e,i){var n=t.__get_orig(e),a=e.time.split(",");return{$orig:n,g0:a}})));t.$mp.data=Object.assign({},{$root:{l0:i}})},o=[]},bec8:function(t,e,i){"use strict";var n=i("d03e"),a=i.n(n);a.a},d03e:function(t,e,i){}},[["39c7","common/runtime","common/vendor"]]]);