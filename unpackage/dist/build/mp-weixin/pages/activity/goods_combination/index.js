(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_combination/index"],{"3bb6":function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return a})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){return e}));var a=function(){var t=this,n=t.$createElement,i=(t._self._c,t.avatarList.length>0?t.__map(t.avatarList,(function(n,i){var e=t.__get_orig(n),a=6===i&&Number(t.avatarList.length)>3;return{$orig:e,m0:a}})):null);t.$mp.data=Object.assign({},{$root:{l0:i}})},o=[]},"3c26":function(t,n,i){},4296:function(t,n,i){"use strict";var e=i("e849"),a=i.n(e);a.a},4351:function(t,n,i){"use strict";i.r(n);var e=i("3bb6"),a=i("7018");for(var o in a)"default"!==o&&function(t){i.d(n,t,(function(){return a[t]}))}(o);i("4296"),i("6fea");var r,c=i("f0c5"),l=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,"6661c580",null,!1,e["a"],r);n["default"]=l.exports},"5d23":function(t,n,i){"use strict";(function(t){i("f524");e(i("66fd"));var n=e(i("4351"));function e(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("543d")["createPage"])},"6fea":function(t,n,i){"use strict";var e=i("3c26"),a=i.n(e);a.a},7018:function(t,n,i){"use strict";i.r(n);var e=i("e323"),a=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,(function(){return e[t]}))}(o);n["default"]=a.a},e323:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i("a519"),a=i("be59"),o=i("5fb7"),r=c(i("37f7"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(){i.e("components/home/index").then(function(){return resolve(i("40e3"))}.bind(null,i)).catch(i.oe)},u=getApp(),s={components:{home:l},data:function(){return{showSkeleton:!0,isNodes:0,indicatorDots:!1,circular:!0,autoplay:!0,interval:3e3,duration:500,navH:"",combinationList:[],limit:10,page:1,loading:!1,loadend:!1,returnShow:!0,loadTitle:"",avatarList:[],bannerList:[],totalPeople:0,theme:u.globalData.theme,bgColor:"#e93323"}},onLoad:function(){var n=this,i=this;i.bgColor=(0,o.setThemeColor)(),t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:i.bgColor}),setTimeout((function(){n.isNodes++}),500);var e=getCurrentPages();this.returnShow=1!==e.length,t.setNavigationBarTitle({title:"拼团列表"}),this.navH=u.globalData.navH,this.getCombinationList(),this.getCombinationHeader()},methods:{goBack:function(){t.navigateBack()},openSubcribe:function(n){t.showLoading({title:"正在加载"}),(0,a.openPinkSubscribe)().then((function(i){t.hideLoading(),t.navigateTo({animationType:r.default.type,animationDuration:r.default.duration,url:"/pages/activity/goods_combination_details/index?id=".concat(n.id)})})).catch((function(){t.hideLoading()}))},getCombinationHeader:function(){var t=this;this.bannerList=[{value:""}],(0,e.combinationHeaderApi)().then((function(n){t.avatarList=n.data.avatarList||[],t.bannerList=n.data.bannerList||[],t.totalPeople=n.data.totalPeople})).catch((function(){t.loading=!1,t.loadTitle="加载更多"}))},getCombinationList:function(){var t=this;if(!t.loadend&&!t.loading){t.loadTitle="";var n={page:t.page,limit:t.limit};this.combinationList=[{image:"",otPrice:"",price:"",title:""}],this.loading=!0,(0,e.getCombinationList)(n).then((function(n){t.combinationList=[];var i=n.data.list,e=t.$util.SplitArray(i,t.combinationList),a=i.length<t.limit;t.loadend=a,t.loading=!1,t.loadTitle=a?"已全部加载":"加载更多",t.$set(t,"combinationList",e),t.$set(t,"page",t.page+1),setTimeout((function(){t.showSkeleton=!1}),1e3)})).catch((function(){t.loading=!1,t.loadTitle="加载更多"}))}},setShare:function(){this.$wechat.isWeixin()&&this.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"],{desc:this.combinationList[0].title,title:this.combinationList[0].title,link:location.href,imgUrl:this.combinationList[0].image}).then((function(t){})).catch((function(t){console.log(t)}))}},onReachBottom:function(){this.getCombinationList()}};n.default=s}).call(this,i("543d")["default"])},e849:function(t,n,i){}},[["5d23","common/runtime","common/vendor"]]]);