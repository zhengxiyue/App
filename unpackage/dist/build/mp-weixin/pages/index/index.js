(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0ed9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement;t._self._c},o=[]},2187:function(t,e,n){"use strict";var i=n("811b"),a=n.n(i);a.a},"23cf":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement;t._self._c},o=[]},"24b8":function(t,e,n){"use strict";n.r(e);var i=n("f303"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},2705:function(t,e,n){"use strict";var i=n("e9fa"),a=n.n(i);a.a},"30c4":function(t,e,n){"use strict";var i=n("4d58"),a=n.n(i);a.a},3506:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;v(n("482a"));var i,a=v(n("0488")),o=n("a30d"),r=n("cc12"),u=n("1bab"),c=v(n("91ac")),s=v(n("8fce")),l=v(n("b407")),d=v(n("d6db")),f=(v(n("9db5")),n("52a6")),p=n("b381"),m=n("26cb"),h=n("b07f"),g=(n("b1ec"),v(n("37f7")));function v(t){return t&&t.__esModule?t:{default:t}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=t.getSystemInfoSync().statusBarHeight+"px",_=getApp(),T=function(){n.e("pages/index/components/c_bargain").then(function(){return resolve(n("edc0"))}.bind(null,n)).catch(n.oe)},w=function(){n.e("pages/index/components/d_coupons").then(function(){return resolve(n("4ce1"))}.bind(null,n)).catch(n.oe)},x=function(){Promise.all([n.e("common/vendor"),n.e("components/accredit/index")]).then(function(){return resolve(n("e93f"))}.bind(null,n)).catch(n.oe)},L=function(){n.e("components/add-tips/index").then(function(){return resolve(n("8681"))}.bind(null,n)).catch(n.oe)},S=function(){n.e("components/Loading/index").then(function(){return resolve(n("2669"))}.bind(null,n)).catch(n.oe)},D=["beforePay","afterPay","createBargain","pink"],P=(i={computed:(0,m.mapGetters)(["isLogin","uid"]),components:{seckill:c.default,combination:s.default,bargain:T,coupons:w,goodsRank:d.default,promotion:l.default,Loading:S,aTip:L,atModel:x},data:function(){return{showSkeleton:!0,isNodes:0,loaded:!1,loading:!1,isAuto:!1,isShowAuth:!1,statusBarHeight:y,navIndex:0,navTop:[],followUrl:"",followHid:!0,followCode:!1,logoUrl:"",imgUrls:[{url:"",pic:"",id:"",name:""}],menus:[{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""},{url:"",pic:"",id:"",name:""}],indicatorDots:!1,circular:!0,autoplay:!0,interval:2500,duration:500,window:!1,navH:"",ProductNavindex:0,marTop:0,sortProduct:[],hostProduct:[],hotPage:1,hotLimit:10,hotScroll:!1,explosiveMoney:[{title:""},{title:""},{title:""},{title:""}],searchH:0,goodType:0,goodScroll:!0,params:{page:1,limit:10},tempArr:[],roll:[],site_name:"",iSshowH:!1,configApi:{},privacyStatus:!1,tabsScrollLeft:0,scrollLeft:0,listActive:0,theme:"theme1",imgHost:"",picBg:"crmebimage/change/new_header/new_header1.png",appUpdate:{},wxText:"点击添加到我的小程序，微信首页下拉即可访问商城。",locationContent:"授权位置信息，提供完整服务",cardShow:1,locationStatus:!1}},watch:{ProductNavindex:function(t){this.setTabList()},listActive:function(t){this.setTabList()}},onLaunch:function(){},mounted:function(){this.setTabList()},onLoad:function(e){var n=this;_.globalData.isIframe&&setTimeout((function(){var t;document.getElementById("pageIndex").children.forEach((function(e){e.addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault(),e!==t&&(e.classList.add("borderShow"),t&&t.classList.remove("borderShow"),t=e)}))}))})),setTimeout((function(){n.isNodes++}),100);var i=this;t.getSystemInfo({success:function(t){i.$store.commit("SYSTEM_PLATFORM",t.platform)}});var a=this;(0,o.getTheme)().then((function(t){a.theme="theme".concat(Number(t.data.value)),a.picBg="crmebimage/change/new_header/new_header".concat(Number(t.data.value),".png")})),this.navH=_.globalData.navHeight;var u=t.createSelectorQuery().select(".mp-header");if(u.boundingClientRect((function(t){a.marTop=t.height,a.poTop=Number(t.height)+84})).exec(),e.scene){var c=a.$util.getUrlParams(decodeURIComponent(e.scene)),s=a.$util.formatMpQrCodeData(c);_.globalData.spread=s,setTimeout((function(){(0,r.spread)(s).then((function(t){})).catch((function(t){}))}),2e3)}else _.globalData.spread=e.spread;this.getIndexConfig(),this.getTemlIds()},onShow:function(){t.showTabBar()},methods:{menusTap:function(e){(0,p.goPage)().then((function(n){"/pages/goods_cate/goods_cate"==e?t.switchTab({url:e}):t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:e})}))},toNewsList:function(){t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:"/pages/news_list/index"})},bindEdit:function(t){_.globalData.isIframe&&window.parent.postMessage({name:t},"*")},reloadData:function(){var t=this;setTimeout((function(){t.showSkeleton=!1}),1e3)},scroll:function(t){this.scrollLeft=t.detail.scrollLeft},setTabList:function(){var t=this;this.$nextTick((function(){t.scrollIntoView()}))},scrollIntoView:function(){var t=this,e=0;this.getElementData("#tab_list",(function(n){var i=n[0];t.getElementData("#tab_item",(function(n){var a=n[t.listActive];e=a.width/2-i.left+a.left-i.width/2-t.scrollLeft,t.tabsScrollLeft=t.scrollLeft+e}))}))},getElementData:function(e,n){t.createSelectorQuery().in(this).selectAll(e).boundingClientRect().exec((function(t){n(t[0])}))},xieyiApp:function(){t.navigateTo({url:"/pages/users/web_page/index?webUel=https://admin.java.crmeb.net/useragreement/xieyi.html&title=协议内容"})},getTemlIds:function(){for(var t in D)this.getTem(D[t])},getTem:function(t){(0,o.getTemlIds)({type:t}).then((function(e){if(e.data){var n=e.data.map((function(t){return t.tempId}));wx.setStorageSync("tempID"+t,n)}}))},onColse:function(){this.$set(this,"window",!1)},get_host_product:function(){var t=this;t.loading=!0,t.hotScroll||(0,h.getProductHot)(t.hotPage,t.hotLimit).then((function(e){t.hotPage++,t.hotScroll=e.data.list.length<t.hotLimit,t.hostProduct=t.hostProduct.concat(e.data.list)}))},getIndexConfig:function(){var t=this,e=this;(0,o.getIndexData)().then((function(n){e.$set(e,"logoUrl",n.data.logoUrl);var i=n.data.logoUrl.split("crmebimage")[0];e.imgHost=i,e.$Cache.set("imgHost",i),e.$set(e,"imgUrls",n.data.banner),e.$set(e,"menus",n.data.menus),e.$set(e,"roll",n.data.roll?n.data.roll:[]),e.$set(e,"cardShow",""==n.data.homePageSaleListStyle?1:Number(n.data.homePageSaleListStyle)),e.$Cache.setItem({name:"categoryConfig",value:{categoryConfig:n.data.categoryPageConfig,isShowCategory:n.data.isShowCategory}}),a.default.setItem({name:"chatConfig",value:{consumer_hotline:n.data.consumerHotline,telephone_service_switch:n.data.telephoneServiceSwitch}}),e.$set(e,"explosiveMoney",n.data.explosiveMoney),e.goodType=n.data.explosiveMoney[0].type,t.getGroomList(),t.shareApi(),t.reloadData(),a.default.has("user_latitude")||(t.locationStatus=!0)}))},appVersionConfig:function(){var e=this;(0,o.getAppVersion)().then((function(n){e.$set(e.appUpdate,"androidAddress",n.data.androidAddress),e.$set(e.appUpdate,"appVersion",n.data.appVersion),e.$set(e.appUpdate,"iosAddress",n.data.iosAddress),e.$set(e.appUpdate,"openUpgrade",n.data.openUpgrade),plus.runtime.getProperty(plus.runtime.appid,(function(i){var a=i.version.split(".").join(""),o=n.data.appVersion.split(".").join("");t.getSystemInfo({success:function(n){o>a&&t.showModal({title:"更新提示",content:"发现新版本，是否前去下载?",showCancel:"false"==e.appUpdate.openUpgrade,cancelColor:"#eeeeee",confirmColor:"#FF0000",success:function(t){if(t.confirm)switch(n.platform){case"android":plus.runtime.openURL(e.appUpdate.androidAddress);break;case"ios":plus.runtime.openURL(encodeURI(e.appUpdate.iosAddress));break}}})}})}))}))},shareApi:function(){var e=this;(0,u.getShare)().then((function(n){e.$set(e,"configApi",n.data),e.$set(e,"site_name",n.data.title),t.setNavigationBarTitle({title:e.site_name})}))},setOpenShare:function(t){var e=this;if(e.$wechat.isWeixin()){var n={desc:t.synopsis,title:t.title,link:location.href,imgUrl:t.img};e.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData"],n)}},authColse:function(t){this.isShowAuth=t},ProductNavTab:function(t,e){if(this.listActive!==e){this.listActive=e,this.goodType=t.type,this.listActive=e,this.ProductNavindex=e,this.tempArr=[],this.params.page=1,this.goodScroll=!0;var n=!0;this.getGroomList(n)}},goDetail:function(e){e.activityH5&&"2"===e.activityH5.type&&!this.isLogin?toLogin():(0,f.goShopDetail)(e,this.uid).then((function(n){t.navigateTo({animationType:g.default.type,animationDuration:g.default.duration,url:"/pages/goods_details/index?id=".concat(e.id)})}))},getGroomList:function(t){var e=this;this.loading=!0;var n=this.goodType;this.goodScroll&&(t&&(this.iSshowH=!0),(0,h.getGroomList)(n,this.params).then((function(t){var n=t.data;e.iSshowH=!1,e.loading=!1,e.goodScroll=n.list.length>=e.params.limit,e.params.page++,e.tempArr=e.tempArr.concat(n.list)})))},stopTouchMove:function(){return!0},modelCancel:function(){this.locationStatus=!1},confirmModel:function(){t.getLocation({type:"gcj02",altitude:!0,geocode:!0,success:function(e){try{t.setStorageSync("user_latitude",e.latitude),t.setStorageSync("user_longitude",e.longitude)}catch(n){}}}),this.locationStatus=!1}}},b(i,"mounted",(function(){})),b(i,"onShareAppMessage",(function(){return{title:this.configApi.title,imageUrl:this.configApi.img,desc:this.configApi.synopsis,path:"/pages/index/index"}})),b(i,"onReachBottom",(function(){0==this.navIndex?1!=this.params.page&&this.getGroomList():this.sortProduct.length>0||this.get_host_product()})),i);e.default=P}).call(this,n("543d")["default"])},3775:function(t,e,n){"use strict";var i=n("6842"),a=n.n(i);a.a},"3c07":function(t,e,n){"use strict";n.r(e);var i=n("5f6f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"4d58":function(t,e,n){},"5ae0":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("26cb");var i=o(n("37f7")),a=n("a30d");function o(t){return t&&t.__esModule?t:{default:t}}var r=getApp(),u={name:"goodList",props:{dataConfig:{type:Object,default:function(){}}},data:function(){return{theme:r.globalData.theme,productList:[]}},created:function(){this.getProductRank()},methods:{toDetail:function(e){t.navigateTo({animationType:i.default.type,animationDuration:i.default.duration,url:"/pages/goods_details/index?id="+e})},getProductRank:function(){var t=this;(0,a.productRank)().then((function(e){t.productList=e.data}))},more:function(){var e={type:"rank",name:"商品排行"};t.navigateTo({animationType:i.default.type,animationDuration:i.default.duration,url:"/pages/activity/promotionList/index?type="+JSON.stringify(e)})}}};e.default=u}).call(this,n("543d")["default"])},"5d2a":function(t,e,n){"use strict";n.r(e);var i=n("23cf"),a=n("a278");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("2705"),n("c722");var r,u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"541d65e4",null,!1,i["a"],r);e["default"]=c.exports},"5f6f":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("a519"),a=o(n("37f7"));function o(t){return t&&t.__esModule?t:{default:t}}getApp();var r={name:"b_combination",data:function(){return{combinationList:[],isBorader:!1,assistUserList:[],assistUserCount:0}},created:function(){this.getCombinationList()},mounted:function(){},methods:{getCombinationList:function(){var t=this;(0,i.getCombinationIndexApi)().then((function(e){t.combinationList=e.data.productList,t.assistUserList=e.data.avatarList,t.assistUserCount=e.data.totalPeople})).catch((function(e){return t.$util.Tips({title:e})}))},goDetail:function(e){t.navigateTo({animationType:a.default.type,animationDuration:a.default.duration,url:"/pages/activity/goods_combination_details/index?id=".concat(e.id)})},toCombinationList:function(){t.navigateTo({animationType:a.default.type,animationDuration:a.default.duration,url:"/pages/activity/goods_combination/index"})}}};e.default=r}).call(this,n("543d")["default"])},"60eb":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement;t._self._c},o=[]},6842:function(t,e,n){},"6ad4":function(t,e,n){},"811b":function(t,e,n){},"82ce":function(t,e,n){"use strict";var i=n("6ad4"),a=n.n(i);a.a},"8fce":function(t,e,n){"use strict";n.r(e);var i=n("9ba9"),a=n("3c07");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("82ce");var r,u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"46656336",null,!1,i["a"],r);e["default"]=c.exports},"91ac":function(t,e,n){"use strict";n.r(e);var i=n("60eb"),a=n("24b8");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("30c4");var r,u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"d072fb78",null,!1,i["a"],r);e["default"]=c.exports},"9ba9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.combinationList.length&&t.assistUserList.length>0?t.__map(t.assistUserList,(function(e,n){var i=t.__get_orig(e),a=2===n&&Number(t.assistUserCount)>3;return{$orig:i,m0:a}})):null);t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[]},a278:function(t,e,n){"use strict";n.r(e);var i=n("3506"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},b407:function(t,e,n){"use strict";n.r(e);var i=n("0ed9"),a=n("df7f");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("2187");var r,u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},c145:function(t,e,n){},c189:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.productList.length>2?t.productList.slice(0,3):null);t._isMounted||(t.e0=function(e,n){var i=arguments[arguments.length-1].currentTarget.dataset,a=i.eventParams||i["event-params"];n=a.item;return t.toDetail(n.id)}),t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[]},c722:function(t,e,n){"use strict";var i=n("c145"),a=n.n(i);a.a},d6db:function(t,e,n){"use strict";n.r(e);var i=n("c189"),a=n("ec4c");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3775");var r,u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},df7f:function(t,e,n){"use strict";n.r(e);var i=n("e9f5"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},e779:function(t,e,n){"use strict";(function(t){n("f524");i(n("66fd"));var e=i(n("5d2a"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},e9f5:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a")),a=n("b07f"),o=r(n("37f7"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,i,a,o,r){try{var u=t[o](r),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(i,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function r(t){u(o,i,a,r,c,"next",t)}function c(t){u(o,i,a,r,c,"throw",t)}r(void 0)}))}}var s=function(){n.e("components/promotionGood/index").then(function(){return resolve(n("bc12"))}.bind(null,n)).catch(n.oe)},l=(getApp(),{name:"promotion",props:{tabData:{type:Array,default:[]},showType:{type:Number,default:1}},components:{promotionGood:s},created:function(){var t=this;setTimeout((function(){t.reloadData()}),1e3)},data:function(){return{tempArr:[],params:{page:1,limit:6}}},methods:{productslist:function(t){var e=this;return new Promise((function(n,i){(0,a.getGroomList)(t.type,e.params).then((function(t){var e=t.data;n(e.list)}))}))},reloadData:function(){var t=this;return c(i.default.mark((function e(){var n,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.tabData.length)){e.next=9;break}return e.next=4,t.productslist(t.tabData[n]);case 4:a=e.sent,t.tempArr.push(a);case 6:n++,e.next=1;break;case 9:case"end":return e.stop()}}),e)})))()},gopage:function(e){t.navigateTo({animationType:o.default.type,animationDuration:o.default.duration,url:"/pages/activity/promotionList/index?type="+JSON.stringify(e)})},goDetail:function(e){t.navigateTo({animationType:o.default.type,animationDuration:o.default.duration,url:"/pages/goods_details/index?id=".concat(e)})}}});e.default=l}).call(this,n("543d")["default"])},e9fa:function(t,e,n){},ec4c:function(t,e,n){"use strict";n.r(e);var i=n("5ae0"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},f303:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("a519"),a=n("5fb7"),o=r(n("37f7"));function r(t){return t&&t.__esModule?t:{default:t}}getApp();var u=function(){n.e("components/countDown/index").then(function(){return resolve(n("853c"))}.bind(null,n)).catch(n.oe)},c={name:"a_seckill",components:{countDown:u},data:function(){return{bgColor:{bgColor:"#fff",Color:"",width:"44rpx",timeTxtwidth:"16rpx",isDay:!0},spikeList:[{image:"",title:"",price:"",otPrice:""},{image:"",title:"",price:"",otPrice:""},{image:"",title:"",price:"",otPrice:""}],point:"",datatime:0,status:0}},created:function(){var t=this;setTimeout((function(){t.bgColor.Color=(0,a.setThemeColor)()}),1e3),this.getSeckillIndexTime()},methods:{getSeckillIndexTime:function(){var t=this;(0,i.getSeckillIndexApi)().then((function(e){var n=e.data;t.spikeList=[],t.spikeList=n?n.productList:[],t.point=n?n.secKillResponse.time.split(",")[0]:"",t.datatime=n?parseFloat(n.secKillResponse.timeSwap):"",t.status=n?n.secKillResponse.status:0}))},goDetail:function(e){t.navigateTo({animationType:o.default.type,animationDuration:o.default.duration,url:"/pages/activity/goods_seckill_details/index?id="+e.id})},toSeckillList:function(){t.navigateTo({animationType:o.default.type,animationDuration:o.default.duration,url:"/pages/activity/goods_seckill/index"})}}};e.default=c}).call(this,n("543d")["default"])}},[["e779","common/runtime","common/vendor"]]]);