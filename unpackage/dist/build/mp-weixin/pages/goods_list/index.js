(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods_list/index"],{1488:function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}));var o=function(){var t=this,e=t.$createElement,i=(t._self._c,t.productList.length>0?t.__map(t.productList,(function(e,i){var s=t.__get_orig(e),o=Number(e.sales)+Number(e.ficti)||0;return{$orig:s,m0:o}})):null);t.$mp.data=Object.assign({},{$root:{l0:i}})},r=[]},"1c91":function(t,e,i){"use strict";(function(t){i("f524");s(i("66fd"));var e=s(i("bd3e"));function s(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},"537d":function(t,e,i){"use strict";i.r(e);var s=i("b19c"),o=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=o.a},"572f":function(t,e,i){},a291:function(t,e,i){"use strict";var s=i("572f"),o=i.n(s);o.a},b19c:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("b07f"),o=i("26cb"),r=i("52a6"),n=c(i("37f7"));function c(t){return t&&t.__esModule?t:{default:t}}var a=function(){Promise.all([i.e("common/vendor"),i.e("components/recommend/index")]).then(function(){return resolve(i("d826"))}.bind(null,i)).catch(i.oe)},d=getApp(),h={computed:(0,o.mapGetters)(["uid"]),components:{recommend:a},data:function(){return{productList:[],is_switch:!0,where:{keyword:"",priceOrder:"",salesOrder:"",news:0,page:1,limit:20,cid:0},price:0,stock:0,nows:!1,loadend:!1,loading:!1,loadTitle:"加载更多",title:"",hostProduct:[],hotPage:1,hotLimit:10,hotScroll:!1,theme:d.globalData.theme}},onLoad:function(t){this.$set(this.where,"cid",t.cid||0),this.title=t.title||"",this.$set(this.where,"keyword",t.searchValue||""),this.get_product_list()},methods:{goback:function(){return t.navigateBack({delta:1})},godDetail:function(e){(0,r.goShopDetail)(e,this.uid).then((function(i){t.navigateTo({animationType:n.default.type,animationDuration:n.default.duration,url:"/pages/goods_details/index?id=".concat(e.id)})}))},Changswitch:function(){var t=this;t.is_switch=!t.is_switch},searchSubmit:function(t){var e=this;e.$set(e.where,"keyword",t.detail.value),e.loadend=!1,e.$set(e.where,"page",1),this.get_product_list(!0)},get_host_product:function(){var t=this;t.hotScroll||(0,s.getProductHot)(t.hotPage,t.hotLimit).then((function(e){t.hotPage++,t.hotScroll=e.data.list.length<t.hotLimit,t.hostProduct=t.hostProduct.concat(e.data.list)}))},set_where:function(t){switch(t){case 1:return;case 2:0==this.price?this.price=1:1==this.price?this.price=2:2==this.price&&(this.price=0),this.stock=0;break;case 3:0==this.stock?this.stock=1:1==this.stock?this.stock=2:2==this.stock&&(this.stock=0),this.price=0;break;case 4:this.nows=!this.nows;break}this.loadend=!1,this.$set(this.where,"page",1),this.get_product_list(!0)},setWhere:function(){0==this.price?this.where.priceOrder="":1==this.price?this.where.priceOrder="asc":2==this.price&&(this.where.priceOrder="desc"),0==this.stock?this.where.salesOrder="":1==this.stock?this.where.salesOrder="asc":2==this.stock&&(this.where.salesOrder="desc"),this.where.news=this.nows?1:0},get_product_list:function(t){var e=this,i=this;i.setWhere(),i.loadend||i.loading||(!0===t&&i.$set(i,"productList",[]),i.loading=!0,i.loadTitle="",(0,s.getProductslist)(i.where).then((function(t){var s=t.data.list,o=i.$util.SplitArray(s,i.productList),r=s.length<i.where.limit;i.loadend=r,i.loading=!1,i.loadTitle=r?"已全部加载":"加载更多",i.$set(i,"productList",o),i.$set(i.where,"page",i.where.page+1),0===i.productList.length&&e.get_host_product()})).catch((function(t){i.loading=!1,i.loadTitle="加载更多"})))}},onReachBottom:function(){this.productList.length>0?this.get_product_list():this.get_host_product()}};e.default=h}).call(this,i("543d")["default"])},bd3e:function(t,e,i){"use strict";i.r(e);var s=i("1488"),o=i("537d");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("a291");var n,c=i("f0c5"),a=Object(c["a"])(o["default"],s["b"],s["c"],!1,null,"33db2990",null,!1,s["a"],n);e["default"]=a.exports}},[["1c91","common/runtime","common/vendor"]]]);