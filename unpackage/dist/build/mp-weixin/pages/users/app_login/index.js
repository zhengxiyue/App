(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/app_login/index"],{"39c5":function(t,e,n){"use strict";var o=n("a018"),i=n.n(o);i.a},"503e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(n("a34a")),i=c(n("5975")),a=(c(n("4bc0")),n("cc12"));n("a30d"),n("1bab");function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,o,i,a,c){try{var u=t[a](c),r=u.value}catch(s){return void n(s)}u.done?e(r):Promise.resolve(r).then(o,i)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function c(t){u(a,o,i,c,r,"next",t)}function r(t){u(a,o,i,c,r,"throw",t)}c(void 0)}))}}var s=getApp(),f=function(){Promise.all([n.e("common/vendor"),n.e("components/login_mobile/index")]).then(function(){return resolve(n("58fb"))}.bind(null,n)).catch(n.oe)},l={name:"login_mobile",data:function(){return{options:"",keyCode:"",account:"",codeNum:"",isUp:!0,authKey:"",logoUrl:"",isShow:!1,isPos:!1,platform:"",appleShow:""}},components:{mobileLogin:f},mixins:[i.default],mounted:function(){},onLoad:function(e){var n=this;t.getSystemInfo({success:function(t){n.platform=t.platform}});e.code,e.state,e.scope,e.back_url,e.appleShow;n.options=e,e.authKey&&(n.authKey=e.authKey),e.appleShow&&(n.appleShow=e.appleShow)},methods:{wechatPhone:function(){if(this.$Cache.clear("snsapiKey"),this.options.back_url){var e=t.getStorageSync("snRouter");e=-1!=e.indexOf("/pages/index/index")?"/":e,-1!==e.indexOf("/pages/users/wechat_login/index")&&(e="/"),e||(e="/pages/index/index"),this.isUp=!1,t.showToast({title:"登录成功",icon:"none"}),setTimeout((function(t){location.href=e}),800)}else t.navigateBack()},code:function(){var t=this;return r(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,n.account){e.next=3;break}return e.abrupt("return",n.$util.Tips({title:"请填写手机号码"}));case 3:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){e.next=5;break}return e.abrupt("return",n.$util.Tips({title:"请输入正确的手机号码"}));case 5:return e.next=7,(0,a.registerVerify)(n.account).then((function(t){n.$util.Tips({title:t.msg}),n.sendCode()})).catch((function(t){return n.$util.Tips({title:t})}));case 7:case"end":return e.stop()}}),e)})))()},getCode:function(){var t=this;(0,a.getCodeApi)().then((function(e){t.keyCode=e.data.key})).catch((function(e){t.$util.Tips({title:e})}))},close:function(){this.$emit("close",!1)},phoneSilenceAuth:function(t){var e=this,n=this;(0,a.phoneSilenceAuth)({code:t,spid:s.globalData.spread,phone:this.account,captcha:this.codeNum}).then((function(t){e.$store.commit("LOGIN",{token:t.data.token}),e.$store.commit("SETUID",t.data.uid),e.getUserInfo()})).catch((function(t){n.$util.Tips({title:t})}))},getUserInfo:function(){var e=this;(0,a.getUserInfo)().then((function(n){t.hideLoading(),e.userInfo=n.data,e.$store.commit("UPDATE_USERINFO",n.data),e.$util.Tips({title:"登录成功",icon:"success"},{tab:3}),e.close()}))}}};e.default=l}).call(this,n("543d")["default"])},8111:function(t,e,n){"use strict";(function(t){n("f524");o(n("66fd"));var e=o(n("d1fe"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},8333:function(t,e,n){"use strict";var o=n("a4e6"),i=n.n(o);i.a},a018:function(t,e,n){},a4e6:function(t,e,n){},b6eb:function(t,e,n){"use strict";n.r(e);var o=n("503e"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},b9d6:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c},a=[]},d1fe:function(t,e,n){"use strict";n.r(e);var o=n("b9d6"),i=n("b6eb");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("39c5"),n("8333");var c,u=n("f0c5"),r=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"9a4636ee",null,!1,o["a"],c);e["default"]=r.exports}},[["8111","common/runtime","common/vendor"]]]);