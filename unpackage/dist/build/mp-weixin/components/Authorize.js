(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/Authorize"],{"339e":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},u=[]},"5da7":function(t,e,n){"use strict";n.r(e);var o=n("339e"),a=n("6c37");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);n("8946");var i,r=n("f0c5"),s=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"00a5bc1f",null,!1,o["a"],i);e["default"]=s.exports},"60be":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("0488")),a=n("1bab"),u=n("5355"),i=n("26cb"),r=s(n("4bc0"));function s(t){return t&&t.__esModule?t:{default:t}}var c=getApp(),f={name:"Authorize",props:{isAuto:{type:Boolean,default:!0},isGoIndex:{type:Boolean,default:!0},isShowAuth:{type:Boolean,default:!1}},data:function(){return{logoUrl:""}},computed:(0,i.mapGetters)(["isLogin","userInfo"]),watch:{isLogin:function(t){!0===t&&this.$emit("onLoadFun",this.userInfo)}},created:function(){this.getLogoUrl(),this.setAuthStatus()},methods:{setAuthStatus:function(){var t=this;r.default.authorize().then((function(e){!1===e.islogin?t.setUserInfo():t.$emit("onLoadFun",t.userInfo)})).catch((function(e){t.isAuto&&t.$emit("authColse",!0)}))},getUserInfo:function(e){var n=this;r.default.getUserInfo().then((function(o){var a=o.userInfo;a.code=e,a.spread_spid=c.globalData.spread,a.spread_code=c.globalData.code,a.avatar=a.userInfo.avatarUrl,a.city=a.userInfo.city,a.country=a.userInfo.country,a.nickName=a.userInfo.nickName,a.province=a.userInfo.province,a.sex=a.userInfo.gender,r.default.authUserInfo(e,a).then((function(e){t.hideLoading(),n.$emit("authColse",!1),n.$emit("onLoadFun",n.userInfo)})).catch((function(e){t.hideLoading(),t.showToast({title:e.message,icon:"none",duration:2e3})}))})).catch((function(e){t.hideLoading()}))},setUserInfo:function(){var e=this;t.showLoading({title:"正在登录中"}),r.default.getCode().then((function(t){e.getUserInfo(t)})).catch((function(e){t.hideLoading()}))},getLogoUrl:function(){var t=this;o.default.has(u.LOGO_URL)?this.logoUrl=o.default.get(u.LOGO_URL):(0,a.getLogo)().then((function(e){t.logoUrl=e.data.logoUrl,o.default.set(u.LOGO_URL,t.logoUrl)}))},close:function(){var e=getCurrentPages();e[e.length-1];this.isGoIndex?t.switchTab({url:"/pages/index/index"}):this.$emit("authColse",!1)}}};e.default=f}).call(this,n("543d")["default"])},"661f":function(t,e,n){},"6c37":function(t,e,n){"use strict";n.r(e);var o=n("60be"),a=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=a.a},8946:function(t,e,n){"use strict";var o=n("661f"),a=n.n(o);a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/Authorize-create-component',
    {
        'components/Authorize-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5da7"))
        })
    },
    [['components/Authorize-create-component']]
]);
